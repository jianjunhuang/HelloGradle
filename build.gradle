task hello {
    doLast {
        println 'hello'
    }

}
task printList {
    doLast {

        def list = [1, 2, 3, 4, 5, 6]
        println list.getClass().name
        println list[-1]//倒数第一个
        println list[1..3]//1 - 3 个
        list.forEach {
            println it
        }
    }

}


task printlnMap {
    doLast {
        def map = ['w': 1, 'h': 2]

        println map['w']
        println map.h
    }

}

task methodTest {
    doLast {
        def a = 1
        a = plus a, 1
        println a
        println plus(1, 2)
    }

}

def plus(int a, int b) {
//    return a+b
    return a + b
}

task javaBeanTest {
    doLast {
        def info = new Info()
        info.id = 1
        println info.id
    }
}

class Info {
    int id
}

//task 依赖
task first {
    doLast {
        println 'hello'
    }
}

task next(dependsOn: first) {
    doLast {
        println 'world'
    }
}

//任务间通过 api 交互

task ex36Hi {
    doLast {
        println("ex36 do last")
    }
    doFirst {
        println("ex36 do first")
    }
}

task ex36 {

    doLast {
        println("ex36 >>")
        ex36Hi.doLast {
            println("ex36 >>")
        }
    }
}

def Task ex41CreateTask1 = task(ex41CreateTask1)
ex41CreateTask1.doLast {
    println("create task by task name")
}

def Task ex41CreateTask2 = task(ex41CreateTask2, group: BasePlugin.BUILD_GROUP)
ex41CreateTask2.doLast {
    println("create task by task name & map")
    println("task group :${ex41CreateTask2.group}")
}

task ex41CreateTask3 {
    description 'test'
    doLast {
        println 'ex42 3'
        println "task -> $description"
    }
}

ex41CreateTask2.shouldRunAfter(ex41CreateTask1)
//ex41CreateTask2.mustRunAfter(ex41CreateTask1)
ex41CreateTask1.enabled = false